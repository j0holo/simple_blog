{% extends "base.html" %}

{% block header_title %}Preview your Markdown{% endblock %}

{% block body %}
<div class="row">
    <div class="twelve columns">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                    <span>{{message}}</span>
                {% endfor %}
            {% endif %}
        {% endwith %}
    </div>
</div>

<div class="row">
    <div class="one-half column">
        <form action="{{ url_for('.update_post', post_id=post_id) }}" method="post">
            <input class="input-post-title" type="text" name="title" value="{{ title }}" required placeholder="Your title...">
            <textarea class="input-post-textarea" id="textarea" name="markdown_text" rows="30" cols="40"
                    placeholder="Start writing your post..."
                    required onkeypress="insert_four_spaces(event)">{% if markdown -%}{{ markdown }}{% endif -%}
            </textarea>
            <input type="submit" name="submit" value="preview">
            <input class="button-primary" type="submit" name="submit" value="post">
        </form>
    </div>

    <div class="one-half column">
        {% if title %}
            <h1>{{ title }}</h1>
        {% endif %}
        {% if html %}
            <div class="markdown_preview">
                {{ html }}
            </div>
        {% endif %}
    </div>
</div>
<a href="{{ url_for('home.index') }}">Home</a>
{% endblock %}
